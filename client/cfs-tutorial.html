<head>
    <title>cfs-tutorial</title>
</head>

<body>
	<header>
		<form name="uploadForm">
			<input id="fileInput" type="file" multiple="multiple"> 
		</form>
	</header>
	{{>images}}
</body>

<template name="images">
	{{#each images}}
		{{>photoTile}}
	{{/each}}
</template>


<template name="photoTile">
	<div class="photo_tile">
		<div>
			{{#if url store="thumbnail"}}
				{{! if we have a url to the thumbnail store we will display the image}}
				<img src="{{url store="thumbnail"}}" >
			{{else}}
				{{! Since we are do not have a url lets show a placeholder image}}
				<img src="/uploading.png">

				{{#unless isUploaded}}
					{{! If we haven't fully uploaded the file yet show the progress}}
					<p class="uploadProgress">uploading..<br>{{uploadProgress}}%</p>
				{{else}}
					{{! 
						Since we have a fully uploaded file but the store hasn't finished
						processing yet, we will display a processing message.
					}}
					<p class="uploadProgress">processing..</p>
				{{/unless}}
			{{/if}}
		</div>
	</div>
</template>

